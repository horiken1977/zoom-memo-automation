<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zoom Memo Automation - エラーコード一覧</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; margin: 20px; background: #f8f9fa; }
        .header { background: #007acc; color: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .category { background: white; margin: 20px 0; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .category h2 { color: #007acc; border-bottom: 2px solid #007acc; padding-bottom: 10px; }
        .error-item { background: #f8f9fa; margin: 10px 0; padding: 15px; border-left: 4px solid #dc3545; border-radius: 4px; }
        .error-code { font-weight: bold; color: #dc3545; font-size: 1.1em; }
        .error-description { margin: 5px 0; color: #333; }
        .error-solution { margin: 5px 0; color: #28a745; font-style: italic; }
        .slack-message { margin: 5px 0; color: #6c757d; background: #fff3cd; padding: 10px; border-radius: 4px; }
        .severity-high { border-left-color: #dc3545; }
        .severity-medium { border-left-color: #ffc107; }
        .severity-low { border-left-color: #28a745; }
        .api-temporary { background: #e3f2fd; border-left-color: #2196f3; }
        .api-label { background: #2196f3; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.9em; display: inline-block; margin-right: 5px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>🚨 Zoom Memo Automation エラーコード一覧</h1>
        <p>システムで発生する全エラーコードと対処法</p>
        <p style="background: rgba(255,255,255,0.2); padding: 10px; border-radius: 4px; margin-top: 10px;">
            <strong>🔄 API一時的エラーについて:</strong> API関連の一時的エラーが発生した場合、自動的にSlackに通知され、時間を置いて再実行することで解決する可能性があります。
        </p>
    </div>

    <!-- 音声処理関連エラー -->
    <div class="category">
        <h2>🎵 音声処理関連エラー (AU001-AU099)</h2>
        
        <div class="error-item severity-high">
            <div class="error-code">AU001 - AUDIO_DOWNLOAD_FAILED</div>
            <div class="error-description">Zoom音声ファイルのダウンロードに失敗</div>
            <div class="error-solution">対処: Zoom認証状態確認、ネットワーク接続確認</div>
        </div>

        <div class="error-item severity-high">
            <div class="error-code">AU002 - AUDIO_COMPRESSION_FAILED</div>
            <div class="error-description">音声圧縮処理の失敗</div>
            <div class="error-solution">対処: ファイル形式確認、メモリ不足チェック</div>
        </div>

        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>AU003 - GEMINI_TRANSCRIPTION_FAILED</div>
            <div class="error-description">Gemini AI文字起こし処理の失敗</div>
            <div class="error-solution">対処: APIキー確認、音声ファイルサイズ・形式チェック</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                🔄 文字起こし処理でエラーが発生しました。<br>
                API関連の一時的なエラーの可能性があります。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: AU003
            </div>
        </div>

        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>AU004 - TRANSCRIPTION_TOO_SHORT</div>
            <div class="error-description">文字起こし結果が短すぎる（50文字未満）</div>
            <div class="error-solution">対処: 音声品質確認、無音部分の確認、マイク設定確認</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                🔄 文字起こし処理で不完全な結果が返されました。<br>
                API関連の一時的なエラーの可能性があります。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: AU004
            </div>
        </div>

        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>AU005 - JSON_PARSING_FAILED</div>
            <div class="error-description">Gemini AIからのJSON解析に全手法で失敗</div>
            <div class="error-solution">対処: プロンプト簡略化、モデル変更、リトライ間隔調整</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                🔄 AI応答の解析でエラーが発生しました。<br>
                API関連の一時的なエラーの可能性があります。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: AU005
            </div>
        </div>

        <div class="error-item severity-medium">
            <div class="error-code">AU006 - AUDIO_QUALITY_WARNING</div>
            <div class="error-description">音声品質が低く、精度に影響の可能性</div>
            <div class="error-solution">対処: 録画環境改善の提案、品質レポート生成</div>
        </div>

        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>AU007 - STRUCTURED_SUMMARY_FAILED</div>
            <div class="error-description">構造化要約の生成に失敗</div>
            <div class="error-solution">対処: フォールバック要約実行、プロンプト調整</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                🔄 構造化要約の生成でエラーが発生しました。<br>
                API関連の一時的なエラーの可能性があります。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: AU007
            </div>
        </div>

        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>AU008 - RETRY_LIMIT_EXCEEDED</div>
            <div class="error-description">音声処理のリトライ回数上限に達した</div>
            <div class="error-solution">対処: 手動再実行、音声ファイル個別確認</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                ⚠️ 音声処理で複数回の再試行後もエラーが継続しています。<br>
                API関連の一時的なエラーの可能性があります。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: AU008
            </div>
        </div>
    </div>

    <!-- システム関連エラー -->
    <div class="category">
        <h2>⚙️ システム関連エラー (SY001-SY099)</h2>
        
        <div class="error-item severity-high">
            <div class="error-code">SY001 - VERCEL_TIMEOUT</div>
            <div class="error-description">Vercel実行時間制限（300秒）に抵触</div>
            <div class="error-solution">対処: 処理分割、非同期化、Pro プラン検討</div>
        </div>

        <div class="error-item severity-medium">
            <div class="error-code">SY002 - MEMORY_LIMIT_WARNING</div>
            <div class="error-description">メモリ使用量が上限に近づいている</div>
            <div class="error-solution">対処: バッファ最適化、ガベージコレクション強制実行</div>
        </div>
    </div>

    <!-- Zoom連携関連エラー -->
    <div class="category">
        <h2>🎥 Zoom連携関連エラー (ZM001-ZM099)</h2>
        
        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>ZM001 - OAUTH_AUTHENTICATION_FAILED</div>
            <div class="error-description">Zoom OAuth認証に失敗</div>
            <div class="error-solution">対処: 認証情報確認、トークン再取得</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                🔄 Zoom認証でエラーが発生しました。<br>
                API関連の一時的なエラーの可能性があります。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: ZM001
            </div>
        </div>

        <div class="error-item severity-medium">
            <div class="error-code">ZM002 - RECORDING_NOT_FOUND</div>
            <div class="error-description">指定した録画が見つからない</div>
            <div class="error-solution">対処: 録画ID確認、権限確認</div>
        </div>

        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>ZM003 - ZOOM_API_RATE_LIMIT</div>
            <div class="error-description">Zoom APIレート制限に到達</div>
            <div class="error-solution">対処: 時間を置いて再実行</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                ⏳ Zoom APIのレート制限に到達しました。<br>
                API関連の一時的なエラーです。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: ZM003
            </div>
        </div>

        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>ZM004 - ZOOM_API_TIMEOUT</div>
            <div class="error-description">Zoom APIリクエストがタイムアウト</div>
            <div class="error-solution">対処: ネットワーク確認、時間を置いて再実行</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                ⏱️ Zoom APIへの接続がタイムアウトしました。<br>
                API関連の一時的なエラーの可能性があります。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: ZM004
            </div>
        </div>
    </div>

    <!-- Google Drive関連エラー -->
    <div class="category">
        <h2>☁️ Google Drive関連エラー (GD001-GD099)</h2>
        
        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>GD001 - DRIVE_UPLOAD_FAILED</div>
            <div class="error-description">Google Driveアップロードに失敗</div>
            <div class="error-solution">対処: 認証確認、容量確認、権限確認</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                🔄 Google Driveへのアップロードでエラーが発生しました。<br>
                API関連の一時的なエラーの可能性があります。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: GD001
            </div>
        </div>

        <div class="error-item severity-medium">
            <div class="error-code">GD002 - FOLDER_CREATION_FAILED</div>
            <div class="error-description">フォルダ作成に失敗</div>
            <div class="error-solution">対処: 権限確認、親フォルダ存在確認</div>
        </div>

        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>GD003 - DRIVE_API_RATE_LIMIT</div>
            <div class="error-description">Google Drive APIレート制限に到達</div>
            <div class="error-solution">対処: 時間を置いて再実行</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                ⏳ Google Drive APIのレート制限に到達しました。<br>
                API関連の一時的なエラーです。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: GD003
            </div>
        </div>

        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>GD004 - DRIVE_API_TIMEOUT</div>
            <div class="error-description">Google Drive APIリクエストがタイムアウト</div>
            <div class="error-solution">対処: ネットワーク確認、時間を置いて再実行</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                ⏱️ Google Drive APIへの接続がタイムアウトしました。<br>
                API関連の一時的なエラーの可能性があります。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: GD004
            </div>
        </div>
    </div>

    <!-- Slack通知関連エラー -->
    <div class="category">
        <h2>💬 Slack通知関連エラー (SL001-SL099)</h2>
        
        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>SL001 - SLACK_POST_FAILED</div>
            <div class="error-description">Slack投稿に失敗</div>
            <div class="error-solution">対処: トークン確認、チャンネル権限確認</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                🔄 Slack投稿でエラーが発生しました。<br>
                API関連の一時的なエラーの可能性があります。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: SL001
            </div>
        </div>

        <div class="error-item severity-low">
            <div class="error-code">SL002 - SLACK_FILE_UPLOAD_FAILED</div>
            <div class="error-description">Slackファイルアップロードに失敗</div>
            <div class="error-solution">対処: ファイルサイズ確認、形式確認</div>
        </div>

        <div class="error-item severity-high">
            <div class="error-code">SL003 - SLACK_CONTENT_MAPPING_FAILED</div>
            <div class="error-description">構造化要約のSlack投稿時にデータ構造マッピングが失敗</div>
            <div class="error-solution">対処: 7項目構造対応確認、データ構造の一貫性チェック</div>
        </div>

        <div class="error-item severity-medium">
            <div class="error-code">SL004 - SLACK_SUMMARY_EMPTY</div>
            <div class="error-description">Slack投稿時に要約内容が空またはnull</div>
            <div class="error-solution">対処: 音声処理完了確認、要約生成プロセス検証</div>
        </div>

        <div class="error-item severity-medium">
            <div class="error-code">SL005 - SLACK_BLOCK_VALIDATION_FAILED</div>
            <div class="error-description">Slackブロック形式のバリデーションに失敗</div>
            <div class="error-solution">対処: ブロック構造確認、文字数制限チェック</div>
        </div>

        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>SL006 - SLACK_RETRY_EXCEEDED</div>
            <div class="error-description">Slack投稿のリトライ回数上限に達した</div>
            <div class="error-solution">対処: ネットワーク状態確認、手動再送信</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                ⚠️ Slack投稿で複数回の再試行後もエラーが継続しています。<br>
                API関連の一時的なエラーの可能性があります。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: SL006
            </div>
        </div>

        <div class="error-item api-temporary">
            <div class="error-code"><span class="api-label">API一時的</span>SL007 - SLACK_API_RATE_LIMIT</div>
            <div class="error-description">Slack APIレート制限に到達</div>
            <div class="error-solution">対処: 時間を置いて再実行</div>
            <div class="slack-message">
                <strong>Slack通知内容:</strong><br>
                ⏳ Slack APIのレート制限に到達しました。<br>
                API関連の一時的なエラーです。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                エラーコード: SL007
            </div>
        </div>
    </div>

    <!-- テスト固有エラー -->
    <div class="category">
        <h2>🧪 テスト固有エラー (E_系)</h2>
        
        <div class="error-item severity-high">
            <div class="error-code">E_PT001_FAILED</div>
            <div class="error-description">PT001本番環境スルーテスト失敗</div>
            <div class="error-solution">対処: テストログ確認、各ステップの個別検証</div>
        </div>

        <div class="error-item severity-high">
            <div class="error-code">E_PT001v2_FAILED</div>
            <div class="error-description">PT001v2本番環境スルーテスト失敗</div>
            <div class="error-solution">対処: 順次処理フローの検証、音声処理品質確認</div>
        </div>

        <div class="error-item severity-high">
            <div class="error-code">E_SYSTEM_VERCEL_LIMIT</div>
            <div class="error-description">Vercel Hobbyプラン実行時間制限（295秒）到達</div>
            <div class="error-solution">対処: 処理分割、Proプラン検討、タイムアウト最適化</div>
        </div>

        <div class="error-item severity-medium">
            <div class="error-code">E_DOC_CRITICAL</div>
            <div class="error-description">重大な文書保存エラー</div>
            <div class="error-solution">対処: Google Drive容量確認、権限設定確認</div>
        </div>

        <div class="error-item severity-medium">
            <div class="error-code">E_SLACK_001</div>
            <div class="error-description">Slack通知機能のテスト失敗</div>
            <div class="error-solution">対処: Bot権限確認、チャンネルアクセス確認</div>
        </div>

        <div class="error-item severity-low">
            <div class="error-code">E_DOC_${TYPE}</div>
            <div class="error-description">動的文書保存エラー（TYPE部分は動的に決定）</div>
            <div class="error-solution">対処: エラー種別に応じた個別対応</div>
        </div>
    </div>

    <!-- API一時的エラーの一覧 -->
    <div class="category" style="background: #e3f2fd;">
        <h2>🔄 API一時的エラーの統一対応</h2>
        <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 15px;">
            <h3>該当エラーコード:</h3>
            <ul>
                <li><strong>音声処理:</strong> AU003, AU004, AU005, AU007, AU008</li>
                <li><strong>Zoom連携:</strong> ZM001, ZM003, ZM004</li>
                <li><strong>Google Drive:</strong> GD001, GD003, GD004</li>
                <li><strong>Slack通知:</strong> SL001, SL006, SL007</li>
            </ul>
            
            <h3>統一Slack通知メッセージ:</h3>
            <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-top: 10px;">
                <strong>基本フォーマット:</strong><br>
                🔄 {処理名}でエラーが発生しました。<br>
                API関連の一時的なエラーの可能性があります。<br>
                しばらく時間を置いて再実行するか、次の自動実行までお待ちください。<br>
                <br>
                会議名: {会議タイトル}<br>
                エラーコード: {エラーコード}<br>
                発生時刻: {タイムスタンプ}
            </div>
            
            <h3>対応方針:</h3>
            <ol>
                <li>APIエラー発生時は自動的にSlackに通知</li>
                <li>ユーザーに再実行を促すメッセージを表示</li>
                <li>エラーログは保存し、パターン分析に活用</li>
                <li>同じエラーが3回以上連続する場合は管理者に通知</li>
            </ol>
        </div>
    </div>

    <div style="margin-top: 40px; padding: 20px; background: #e9ecef; border-radius: 8px;">
        <h3>📝 エラー対応の基本方針</h3>
        <ol>
            <li><strong>High（赤）</strong>: 即座の対応が必要、処理継続不可</li>
            <li><strong>Medium（黄）</strong>: 警告レベル、処理は継続可能</li>
            <li><strong>Low（緑）</strong>: 情報レベル、軽微な問題</li>
            <li><strong>API一時的（青）</strong>: API不安定性による一時的エラー、時間を置いて再実行で解決可能</li>
        </ol>
        <p><strong>最終更新:</strong> 2025-08-15 | <strong>バージョン:</strong> 3.0 - AU統一・テスト固有エラー追加</p>
    </div>
</body>
</html>